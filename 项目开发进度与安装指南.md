# QQ自动发送消息系统 - 开发进度与安装指南

## 当前开发状态 (2024-04-09)

### 环境配置
- 成功解决了Python 3.13环境下的依赖安装问题
- 更新了requirement.txt文件，使用与Python 3.13兼容的依赖版本
- 修复了Pillow包安装失败的问题，使用了预编译的二进制包方式安装

### 主要功能
1. **命令行版本** (qq_auto_send.py)：
   - 自动打开QQ并登录
   - 通过图像识别找到搜索框
   - 输入QQ号并搜索联系人
   - 自动发送带随机验证码的消息
   - 基本功能已实现

2. **GUI版本** (qq_auto_send_gui.py)：
   - 美观的现代化界面
   - 用户管理功能（添加、删除、启用/禁用）
   - 定时发送功能，可设置每天自动发送的时间
   - 自定义消息模板
   - 实时状态显示

### 已解决问题
- 解决了Python 3.13环境下依赖包安装的兼容性问题
- 优化了图像识别功能，增强了程序稳定性
- 修复了用户管理相关的界面问题

## 安装指南

### 环境要求
- Python 3.6+ (已测试在Python 3.13上工作正常)
- Windows操作系统
- QQ客户端已安装并能正常登录

### 安装步骤

1. **克隆或下载项目**
   ```
   git clone https://github.com/yourusername/qq-auto-send.git
   cd qq-auto-send
   ```

2. **安装依赖**

   方法1 - 使用requirements.txt:
   ```
   pip install -r requirements.txt
   ```
   
   如果上面的方法出现问题，可以尝试方法2:
   
   方法2 - 手动安装依赖:
   ```
   pip install pillow --only-binary=:all:
   pip install pyautogui opencv-python schedule mouse keyboard pyperclip
   ```

3. **配置文件设置**
   - 复制`config.json.example`为`config.json`
   - 编辑`config.json`，设置QQ路径、用户列表和消息模板

4. **准备图像识别文件**
   - 确保`image.png`(QQ搜索框图像)和`copy.png`(QQ输入框图像)存在于项目目录中

## 使用方法

### GUI版本
运行以下命令启动图形界面版本:
```
python qq_auto_send_gui.py
```

GUI版本功能:
- 可以管理多个用户（添加、删除、启用/禁用）
- 设置定时发送时间
- 自定义消息模板
- 查看实时状态

### 命令行版本
运行以下命令启动命令行版本:
```
python qq_auto_send.py
```

命令行版本默认会:
- 打开QQ
- 搜索指定QQ号码
- 发送带随机验证码的消息

## 配置文件说明

`config.json`文件包含以下配置项:

```json
{
    "qq_path": "D:\\Software\\QQ\\QQ.exe",  // QQ程序安装路径
    "users": [  // 用户列表
        {
            "qq": "123456789",  // QQ号
            "name": "用户名",    // 用户名称
            "enabled": true     // 是否启用
        }
    ],
    "schedule": {  // 定时设置
        "enabled": true,  // 是否启用定时
        "hour": 22,       // 小时(24小时制)
        "minute": 30      // 分钟
    },
    "message_template": "代码{code}，若请假请忽略此条消息，感谢配合。"  // 消息模板
}
```

## 注意事项

1. **运行环境**
   - QQ必须处于登录状态
   - 运行程序时请勿遮挡QQ窗口
   - 发送消息过程中请勿移动鼠标或操作键盘

2. **图像识别**
   - 确保`image.png`和`copy.png`与程序在同一目录
   - 图像识别可能受屏幕分辨率、主题等因素影响
   - 如识别失败，会尝试使用默认坐标

3. **使用限制**
   - 不要将此程序用于骚扰或违法用途
   - 过于频繁的消息发送可能导致QQ账号被限制

## 下一步计划

1. **功能增强**
   - 添加日志记录功能，保存发送历史
   - 优化图像识别功能，提高稳定性
   - 考虑添加多线程发送，提高处理效率

2. **界面优化**
   - 增加更多的用户反馈信息
   - 添加发送历史查看功能
   - 优化设置页面

3. **其他计划**
   - 完善错误处理和异常机制
   - 添加更详细的使用说明和帮助文档
   - 考虑支持更多的消息内容类型（如图片）

---
作者: YI
最后更新: 2024-04-09 